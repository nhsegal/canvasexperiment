(()=>{"use strict";var t={426:(t,n,i)=>{i.d(n,{Z:()=>h});var e=i(537),s=i.n(e),r=i(645),l=i.n(r)()(s());l.push([t.id,"html, body {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-family: Arial, Helvetica, sans-serif;\n}\n\nbutton {\n  background: #99ddee;\n  -webkit-border-radius: 15;\n  -moz-border-radius: 15;\n  border-radius: 5px;\n  width: 8rem;\n  color: black;\n  font-size: 16px;\n  padding: 5px 10px 5px 10px; \n  text-decoration: none;\n  margin: 0 0 1rem 0;\n  height: 3rem;\n}\n\ncanvas{\n  border: 1px solid grey;\n  border-radius: 10px;\n}\n\n.controls {\n  width: 900px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.center {\n  width: 10rem;\n}\n\n.top-msg {\n  text-align: center;\n}\n\nselect {\n  width: 3rem;\n  height: 1.5rem;\n  text-align: center;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,yCAAyC;AAC3C;;AAEA;EACE,mBAAmB;EACnB,yBAAyB;EACzB,sBAAsB;EACtB,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,eAAe;EACf,0BAA0B;EAC1B,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,8BAA8B;AAChC;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,cAAc;EACd,kBAAkB;AACpB",sourcesContent:["html, body {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-family: Arial, Helvetica, sans-serif;\n}\n\nbutton {\n  background: #99ddee;\n  -webkit-border-radius: 15;\n  -moz-border-radius: 15;\n  border-radius: 5px;\n  width: 8rem;\n  color: black;\n  font-size: 16px;\n  padding: 5px 10px 5px 10px; \n  text-decoration: none;\n  margin: 0 0 1rem 0;\n  height: 3rem;\n}\n\ncanvas{\n  border: 1px solid grey;\n  border-radius: 10px;\n}\n\n.controls {\n  width: 900px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.center {\n  width: 10rem;\n}\n\n.top-msg {\n  text-align: center;\n}\n\nselect {\n  width: 3rem;\n  height: 1.5rem;\n  text-align: center;\n}"],sourceRoot:""}]);const h=l},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var i="",e=void 0!==n[5];return n[4]&&(i+="@supports (".concat(n[4],") {")),n[2]&&(i+="@media ".concat(n[2]," {")),e&&(i+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),i+=t(n),e&&(i+="}"),n[2]&&(i+="}"),n[4]&&(i+="}"),i})).join("")},n.i=function(t,i,e,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var l={};if(e)for(var h=0;h<this.length;h++){var o=this[h][0];null!=o&&(l[o]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);e&&l[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),n.push(c))}},n}},537:t=>{t.exports=function(t){var n=t[1],i=t[3];if(!i)return n;if("function"==typeof btoa){var e=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),r="/*# ".concat(s," */");return[n].concat([r]).join("\n")}return[n].join("\n")}},379:t=>{var n=[];function i(t){for(var i=-1,e=0;e<n.length;e++)if(n[e].identifier===t){i=e;break}return i}function e(t,e){for(var r={},l=[],h=0;h<t.length;h++){var o=t[h],a=e.base?o[0]+e.base:o[0],c=r[a]||0,d="".concat(a," ").concat(c);r[a]=c+1;var p=i(d),g={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==p)n[p].references++,n[p].updater(g);else{var u=s(g,e);e.byIndex=h,n.splice(h,0,{identifier:d,updater:u,references:1})}l.push(d)}return l}function s(t,n){var i=n.domAPI(n);return i.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;i.update(t=n)}else i.remove()}}t.exports=function(t,s){var r=e(t=t||[],s=s||{});return function(t){t=t||[];for(var l=0;l<r.length;l++){var h=i(r[l]);n[h].references--}for(var o=e(t,s),a=0;a<r.length;a++){var c=i(r[a]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}r=o}}},569:t=>{var n={};t.exports=function(t,i){var e=function(t){if(void 0===n[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}n[t]=i}return n[t]}(t);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(i)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,i)=>{t.exports=function(t){var n=i.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(i){!function(t,n,i){var e="";i.supports&&(e+="@supports (".concat(i.supports,") {")),i.media&&(e+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(e+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),e+=i.css,s&&(e+="}"),i.media&&(e+="}"),i.supports&&(e+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(e,t,n.options)}(n,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var r=n[e]={id:e,exports:{}};return t[e](r,r.exports,i),r.exports}i.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return i.d(n,{a:n}),n},i.d=(t,n)=>{for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var n=i.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var e=n.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.nc=void 0,(()=>{var t=i(379),n=i.n(t),e=i(795),s=i.n(e),r=i(569),l=i.n(r),h=i(565),o=i.n(h),a=i(216),c=i.n(a),d=i(589),p=i.n(d),g=i(426),u={};u.styleTagTransform=p(),u.setAttributes=o(),u.insert=l().bind(null,"head"),u.domAPI=s(),u.insertStyleElement=c(),n()(g.Z,u),g.Z&&g.Z.locals&&g.Z.locals;const f=(t,n,i,e,s)=>{t.lineWidth=1,t.beginPath(),t.arc(n,i,e,0,2*Math.PI),t.fillStyle=s,t.fill()},y=class{constructor({ctx:t,x:n,linkSize:i}){this.ctx=t,this.x=n,this.y=0,this.py=0,this.fy=0,this.linkSize=i}display(t){const n=this.ctx;f(n,this.x,this.y,this.linkSize,t)}},k=i.p+"f9d4d783b9cd432daf06.wav",A=class{constructor({canvas:t,ctx:n,x:i,y:e,c:s,scale:r}){this.canvas=t,this.ctx=n,this.scale=r,this.x=i,this.y=e,this.r=10,this.color=s,this.hit=!1,this.effect=new Audio(k),this.effect.load()}display(){const t=this.ctx;t.fillStyle=this.color,this.hit?this.y>t.height/2?t.rect(this.x,this.y,this.r,5*this.r):this.y<t.height/2&&t.rect(this.x,this.y-5*this.r,this.r,5*this.r):f(t,this.x,this.y,this.r,this.c)}hitCheck(t){return(this.x>t.links[parseInt(this.x/t.linkSize-2,10)].x-2*t.linkSize&&this.x<t.links[parseInt(this.x/t.linkSize-2,10)].x+2*t.linkSize&&this.y>t.links[parseInt(this.x/t.linkSize-2,10)].y-2*t.linkSize&&this.y<-2||this.x>t.links[parseInt(this.x/t.linkSize-2,10)].x-2*t.linkSize&&this.x<t.links[parseInt(this.x/t.linkSize-2,10)].x+2*t.linkSize&&this.y<t.links[parseInt(this.x/t.linkSize-2,10)].y+2*t.linkSize&&this.y>0)&&!1===this.hit&&(this.hit=!0,this.effect.play(),!0)}},x=(t,n)=>{t.links.forEach(((t,n,i)=>{i[n].y=0,i[n].py=0,i[n].fy=0})),n.length&&n.forEach((t=>{t.hit=!1}))},m=window.devicePixelRatio;((t,n)=>{const i=document.createElement("canvas");i.id="canvas",i.style.width=`${t}px`,i.style.height=`${n}px`,document.getElementById("canvas_container").append(i)})(960,300);const v=document.getElementById("canvas"),b=v.getContext("2d"),E=new class{constructor({ctx:t,length:n,dx:i,dt:e,scale:s}){this.ctx=t,this.length=n,this.linkSize=i,this.links=[],this.dt=e,this.isDragging=!1,this.scale=s,this.links.push(new y({ctx:this.ctx,x:2*this.linkSize,linkSize:2*this.linkSize}));for(let t=1;t<this.length/this.linkSize;t+=1)this.links.push(new y({ctx:this.ctx,x:t*i+2*this.linkSize,linkSize:this.linkSize}))}display(t){const n=this.ctx;for(let t=1;t<this.links.length-1;t+=1)t%48==0?this.links[t].display("rgb(250,235,0"):t%2==0&&this.links[t].display("rgb(0,0,0");this.isDragging?f(n,this.links[0].x,this.links[0].y,this.links[0].linkSize,"rgb(250, 0, 0)"):f(n,this.links[0].x,this.links[0].y,this.links[0].linkSize,"rgb(180, 0, 0)");let i="rgb(250, 0, 0)";"fixed"===t?i="rgb(0, 0, 0)":"free"===t?i="rgb(200, 120, 240)":"mirror"===t?i="rgb(0, 190, 0)":"antimirror"===t&&(i="rgb(0, 30, 220)"),f(n,this.links[this.links.length-1].x,this.links[this.links.length-1].y,2*this.linkSize,i)}move(t){for(let t=1;t<this.links.length-1;t+=1)this.links[t].fy=(this.dt/this.linkSize)**2*(this.links[t-1].y-2*this.links[t].y+this.links[t+1].y)+2*this.links[t].y-this.links[t].py;"free"===t?this.links[this.links.length-1].fy=-(this.links[this.links.length-1].y-this.links[this.links.length-2].y)+2*this.links[this.links.length-1].y-this.links[this.links.length-1].py:"fixed"===t?this.links[this.links.length-1].fy=0:"mirror"===t&&this.isDragging?(this.links[this.links.length-1].fy=this.links[0].y,this.links[this.links.length-1].y=this.links[0].y,this.links[this.links.length-1].py=this.links[0].y):"mirror"!==t||this.isDragging?"antimirror"===t&&this.isDragging?(this.links[this.links.length-1].fy=-this.links[0].y,this.links[this.links.length-1].y=-this.links[0].y,this.links[this.links.length-1].py=-this.links[0].y):"antimirror"!==t||this.isDragging||(this.links[this.links.length-1].fy=this.links[this.links.length-2].y,this.links[this.links.length-1].y=this.links[this.links.length-1].fy):(this.links[this.links.length-1].fy=this.links[this.links.length-2].y,this.links[this.links.length-1].y=this.links[this.links.length-1].fy),this.isDragging||(this.links[0].fy=this.links[1].y,this.links[0].y=this.links[0].fy);for(let t=1;t<this.links.length;t+=1)this.links[t].py=this.links[t].y,this.links[t].y=this.links[t].fy}}({ctx:b,length:960*m-24,dx:8,dt:8,scale:m}),w=[];let C=null,B="fixed";v.addEventListener("mousedown",(t=>{((t,n,i)=>{i.preventDefault(),i.stopPropagation();const e=t.getBoundingClientRect(),s=parseInt(i.clientX-e.left,10),r=parseInt(i.clientY-e.top,10)-parseInt(t.height,10)/4;s*s-n.links[0].x*n.links[0].x+r*r-n.links[0].y*n.links[0].y<n.links[0].linkSize*n.links[0].linkSize*16?n.isDragging=!0:n.isDragging=!1})(v,E,t)})),v.addEventListener("mousemove",(t=>{((t,n,i)=>{i.preventDefault(),i.stopPropagation();const e=t.getBoundingClientRect(),s=parseInt(i.clientY-e.top,10)-parseInt(t.height,10)/4;n.isDragging&&(n.links[0].y=2*s)})(v,E,t)})),v.addEventListener("mouseup",(t=>{((t,n)=>{n.preventDefault(),n.stopPropagation(),t.isDragging=!1})(E,t)})),document.querySelector("#resetButton").addEventListener("click",(()=>x(E,w))),document.querySelectorAll('select[name="level"]').forEach((t=>{t.addEventListener("change",(t=>{C=t.target.value,((t,n,i,e)=>{let s="rgb(0,0,0)";switch(t){case"1":n.length=0;for(let t=0;t<4;t+=1)s=3===t?"rgb(250,130,0)":"rgb(200,0,200)",n.push(new A({ctx:i,x:(t+3.8)*(parseInt(e.width,10)/7),y:-e.height/4,c:s}));return n;case"2":n.length=0;for(let t=0;t<4;t+=1)s=3!==t?"rgb(250,130,0)":"rgb(200,0,200)",n.push(new A({ctx:i,x:(t+3.8)*(parseInt(e.width,10)/7),y:-e.height/4,c:s}));return n;case"3":n.length=0;for(let t=0;t<4;t+=1)s=t>0&&t<3?"rgb(200,0,200)":"rgb(250,130,0)",n.push(new A({ctx:i,x:(t+3.5)*(parseInt(e.width,10)/10),y:-e.height/4,c:s}));return n;case"4":n.length=0;for(let t=0;t<6;t+=1)s=0===t||3===t||4===t||5===t?"rgb(250,130,0)":"rgb(200,0,200)",n.push(new A({ctx:i,x:(t+3.5)*(parseInt(e.width,10)/10),y:e.height/4,c:s}));return n[4].x=49*parseInt(e.width,10)/50,n[4].y=-e.height/8,n[5].x=49*parseInt(e.width,10)/50,n[5].y=e.height/8,n;case"5":n.length=0;for(let t=0;t<10;t+=1)s=4===t||5===t?"rgb(250,130,0)":"rgb(200,0,200)",n.push(new A({ctx:i,x:Math.floor(t/2)*(parseInt(e.width,10)/10)+e.width/3.3,y:e.height/4-t%2*(e.height/2),c:s}));return n;case"6":n.length=0;for(let t=0;t<26;t+=1)s=0===t||1===t||12===t||13===t||24===t||25===t?"rgb(250,130,0)":"rgb(200,0,200)",n.push(new A({ctx:i,x:Math.floor(t/2)*(parseInt(e.width,10)/12.5)+e.width/48,y:e.height/4-t%2*(e.height/2),c:s}))}})(C,w,b,v),x(E,w)}))})),document.querySelectorAll('input[name="right_end"]').forEach((t=>{t.addEventListener("change",(t=>{B=t.target.value}))}));const S=()=>{b.clearRect(0,0,v.width,v.height),((t,n,i,e)=>{t.width=Math.floor(n*e),t.height=Math.floor(i*e);const s=t.getContext("2d");s.scale(e,e),s.fillStyle="#d8d8d8",s.fillRect(0,0,n,i),s.strokeStyle="#787878";for(let t=0;t<6;t+=1)s.beginPath(),s.moveTo(0,t*i/6),s.lineTo(n,t*i/6),s.closePath(),s.stroke()})(v,960,300,m),b.setTransform(1,0,0,1,0,v.height/2),E.move(B),E.display(B),w.length&&w.forEach((t=>{t.hitCheck(E),t.display()})),window.requestAnimationFrame(S)};S()})()})();
//# sourceMappingURL=main.js.map